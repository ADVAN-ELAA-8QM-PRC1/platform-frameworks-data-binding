apply plugin: 'java'
apply plugin: 'kotlin'
apply plugin: 'application'
apply plugin: 'maven'

sourceCompatibility = config.javaTargetCompatibility
targetCompatibility = config.javaSourceCompatibility

mainClassName = "org.antlr.v4.Tool"


repositories {
    mavenCentral()
}


buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${config.kotlinVersion}"
    }
}


run {
////    args "XMLLexer.g4", "-visitor", "-o", "src/main/java-gen/com/android/databinding", "-package", "com.android.databinding", "-lib", "."
    args "XMLParser.g4", "-visitor", "-o", "src/main/java/com/android/databinding", "-package", "com.android.databinding", "-lib", "."
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:${config.kotlinVersion}"
    compile 'com.tunnelvisionlabs:antlr4:4.4'
}

uploadArchives {
    repositories {
        mavenDeployer {
            pom.artifactId = 'xmlGrammer'
        }
    }
}
